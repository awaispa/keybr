<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Keybr</title>

        <style>
            nav {
                display: flex;
                flex-direction: row;
            }

            #keyboard {
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
                background-color: grey;
                border-radius: 2rem;
                padding: 0.5rem;
            }

            .key {
                width: 6rem;
                height: 6rem;
                display: grid;
                background-color: pink;
                justify-content: center;
                align-items: center;
                border-radius: 0.5em;
                color: black;
                font-size: 2em;
            }

            .key_row {
                display: flex;
                gap: 0.5rem;
                justify-content: space-around;
            }
            #typing-area {
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            #user-typing-area {
                width: 24rem;
                height: 6rem;
                font-size: 180%;
            }
            #words-to-type-area {
                display: flex;
            }
        </style>
    </head>

    <body>
        <nav>
            <ul>
                <li>Home</li>
                <li>Account</li>
            </ul>
        </nav>

        <main id="main">
            <div id="keyboard">
                <div id="top_row" class="key_row"></div>
                <div id="middle_row" class="key_row"></div>
                <div id="bottom_row" class="key_row"></div>
            </div>

            <section id="typing-area">
                <h1>Type Below</h1>
                <input type="text" id="user-typing-area" />
            </section>

            <section id="words-to-type-area"></section>
        </main>
        <script>
            "use strict";
            const ALL_LETTERS_UPPERCASE = [
                "Q",
                "W",
                "E",
                "R",
                "T",
                "Y",
                "U",
                "I",
                "O",
                "P",
                "A",
                "S",
                "D",
                "F",
                "G",
                "H",
                "J",
                "K",
                "L",
                "Z",
                "X",
                "C",
                "V",
                "B",
                "N",
                "M",
            ];

            const ALL_LETTERS_LOWERCASE = ALL_LETTERS_UPPERCASE.map((letter) =>
                letter.toLowerCase(),
            ).join(" ");

            const TOP_ROW_LETTERS_UPPERCASE = [
                "Q",
                "W",
                "E",
                "R",
                "T",
                "Y",
                "U",
                "I",
                "O",
                "P",
            ];
            const TOP_ROW_LETTERS_LOWERCASE = TOP_ROW_LETTERS_UPPERCASE.map(
                (letter) => letter.toLowerCase(),
            ).join(" ");
            const MIDDLE_ROW_LETTERS_UPPERCASE = [
                "A",
                "S",
                "D",
                "F",
                "G",
                "H",
                "J",
                "K",
                "L",
            ];
            const MIDDLE_ROW_LETTERS_LOWERCASE =
                MIDDLE_ROW_LETTERS_UPPERCASE.map((letter) =>
                    letter.toLowerCase(),
                ).join(" ");
            const BOTTOM_ROW_LETTERS_UPPERCASE = [
                "Z",
                "X",
                "C",
                "V",
                "B",
                "N",
                "M",
            ];
            const BOTTOM_ROW_LETTERS_LOWERCASE =
                BOTTOM_ROW_LETTERS_UPPERCASE.map((letter) =>
                    letter.toLowerCase(),
                ).join(" ");

            /**
             * Returns the HTML for a key
             * @param {string} key_name - The name of the key
             * @returns {string} - Returns the HTML with all the appropriate styling and options etc
             */
            function newKeyHTML(key_name) {
                const html = `<div class="key" id="key_${key_name}">
                  ${key_name}
              </div>`;
                return html;
            }

            let words_to_type = "these are some random words to type";
            let characters_to_type = words_to_type.split("");
            // console.log(characters_to_type);

            const main = document.getElementById("main");
            const top_row = document.getElementById("top_row");
            const middle_row = document.getElementById("middle_row");
            const bottom_row = document.getElementById("bottom_row");
            const user_typing_area =
                document.getElementById("user-typing-area");
            const words_to_type_area =
                document.getElementById("words-to-type-area");

            top_row.innerHTML =
                TOP_ROW_LETTERS_UPPERCASE.map(newKeyHTML).join("");
            middle_row.innerHTML =
                MIDDLE_ROW_LETTERS_UPPERCASE.map(newKeyHTML).join("");
            bottom_row.innerHTML =
                BOTTOM_ROW_LETTERS_UPPERCASE.map(newKeyHTML).join("");
            words_to_type_area.innerHTML = words_to_type.split("").join("");

            let userText = [];
            document.addEventListener("keydown", function onEvent(event) {
                if (event.key === "Backspace") {
                    userText.pop();
                } else if (
                    // checks for a regular character
                    event.key.length === 1 &&
                    ALL_LETTERS_LOWERCASE.includes(event.key)
                ) {
                    userText.push(event.key);
                }

                user_typing_area.textContent = `${userText.join("")}`;
                // console.log(userText.join(""));
            });
        </script>
    </body>
</html>
